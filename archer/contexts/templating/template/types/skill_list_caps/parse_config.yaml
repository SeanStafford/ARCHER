# Parsing configuration for skill_list_caps
# Format: { \setlength{\baselineskip}{10pt} \setlength{\parskip}{7.5pt} \scshape
#           Item 1
#
#           Item 2
#         }

operations:
  # Set type field
  type_field:
    operation: set_literal
    output_path: type
    value: skill_list_caps

  # Extract braced content after formatting commands
  # Pattern matches opening brace through newline
  # Then proper brace matching extracts content until closing brace
  braced_content:
    operation: extract_braced_after_pattern
    search_pattern: '\{\s*\\setlength.*?\n'
    output_context: braces_content

  # Extract items as strings
  items_raw:
    operation: extract_regex
    source: braces_content
    regex_pattern: '\s*(?P<item>\S[\s\S]*?)(?=\n\s*\n|\\par\s*|$)'
    output_context: items_strings

  # Transform strings to dicts with {latex_raw, plaintext}
  items:
    operation: to_plaintext
    source: items_strings
    output_path: content.items