# Parsing configuration for custom_itemize
# Handles vanilla \begin{itemize}[...] with optional parameters and custom item markers
#
# Example LaTeX:
#   \begin{itemize}[leftmargin=\highlightindent, labelsep = 0pt, align=left, labelwidth=\highlightindent - 1pt, itemsep = \seclistitemsep]
#       \item[\raisebox{-1pt}{>} 6 years] of leading ML research projects
#       \item[\raisebox{-0.5pt}{>} 20,000] GPU-hours of training
#   \end{itemize}
#
# Uses parse_itemize_complex_markers operation with ITEM_VANILLA pattern to:
# 1. Only match \item followed by [ or whitespace (not \itemi, \itemii, etc.)
# 2. Handle nested braces in markers like \item[\raisebox{-1pt}{>} 20,000]

operations:
  # Set type field
  type_field:
    operation: set_literal
    output_path: type
    value: custom_itemize

  # Extract environment with optional params
  # num_optional_params: 1 means extract the [...] after \begin{itemize}
  # param_names: stores the optional param value in metadata.optional_params
  environment:
    operation: extract_environment
    env_name: itemize
    num_params: 0
    num_optional_params: 1
    param_names: [metadata.optional_params]
    output_context: environment_content

  # Parse items with complex markers using balanced delimiter matching
  # Uses ITEM_VANILLA pattern to avoid splitting on \itemii inside nested environments
  bullets:
    operation: parse_itemize_complex_markers
    source: environment_content
    marker_pattern: ITEM_VANILLA
    output_path: content.bullets
