# Parsing configuration for simple_list
# Generic fallback type for any unrecognized itemize environment
#
# This type handles itemize variants that don't match known semantic types.
# Uses permissive regex patterns to extract structure from any itemize environment.

operations:
  # Set type field
  type_field:
    operation: set_literal
    output_path: type
    value: simple_list

  # Extract environment name (itemizeLL, itemizeMain, itemizeCustom, etc.)
  environment_name:
    operation: extract_regex
    regex_pattern: '\\begin\{(?P<env_name>itemize[A-Za-z]*)\}'
    output_paths:
      env_name: metadata.itemize_env

  # Extract item command used (first occurrence)
  # Matches: \itemi, \itemLL, \itemMain, \item[], \item[X], etc.
  item_command:
    operation: extract_regex
    regex_pattern: '(?P<cmd>\\item[A-Za-z]*(?:\[[^\]]*\])?)'
    output_paths:
      cmd: metadata.item_command

  # Extract all items from environment
  # Permissive pattern - matches ANY \item* variant, even custom ones
  items:
    operation: extract_regex
    regex_pattern: '\\item[A-Za-z]*(?:\[[^\]]*\])?\s+(?P<item>.+)'
    output_path: content.items
